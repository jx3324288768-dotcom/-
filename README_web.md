# 产量记录管理系统 - Web版本

这是一个基于Web的产量记录管理系统，支持多人同时查看和跟踪产量进度。

## 功能特点

- **多人协作**: 支持多用户同时访问和编辑
- **实时更新**: 数据自动刷新，保持最新状态
- **完整功能**: 包含桌面版的所有功能
  - 员工管理
  - 生产记录管理
  - 自动计算（稼动率、理论数量等）
  - 注释功能
  - 筛选和搜索
  - 统计信息

## 安装和运行

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 运行应用

```bash
python web_app.py
```

### 3. 访问系统

打开浏览器访问: http://localhost:5000

## 主要功能

### 员工管理
- 添加新员工（姓名和职位）
- 员工信息用于记录关联

### 生产记录
- 添加新的生产记录
- 编辑现有记录
- 删除记录
- 自动计算相关字段

### 注释功能
- 为"异常停机时长"和"计划停机时长"添加注释
- 点击📝图标查看注释
- 支持编辑和删除注释

### 筛选和统计
- 按日期、姓名、产品规格、工序筛选
- 实时统计：合计数量、平均稼动率

### 自动计算
- 理论运行时长 = 480 - 调机时长
- 实际运行时长 = 理论运行时长 - 停机时长
- 理论数量 = 实际运行时长 / 单个时间
- 产能稼动率 = 实际数量 / 理论数量
- 时间稼动率 = 实际运行时长 / 理论运行时长

## 技术栈

- **后端**: Flask + SQLAlchemy
- **前端**: Bootstrap 5 + JavaScript
- **数据库**: SQLite
- **实时更新**: 自动刷新机制

## 部署建议

### 生产环境部署

1. 使用Gunicorn作为WSGI服务器:
```bash
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:5000 web_app:app
```

2. 使用Nginx作为反向代理

3. 配置HTTPS证书

4. 使用PostgreSQL或MySQL替代SQLite

### 多服务器部署

- 使用Redis或Memcached进行会话管理
- 配置数据库集群
- 使用负载均衡器

## 数据备份

数据库文件位置: `production_records.db`

建议定期备份此文件。

## 注意事项

- 默认运行在0.0.0.0:5000，支持局域网访问
- 数据库会自动创建
- 支持多人同时编辑，但建议避免同时编辑同一条记录
- 数据每30秒自动刷新一次
